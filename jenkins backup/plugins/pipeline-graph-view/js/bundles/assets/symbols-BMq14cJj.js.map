{"version":3,"file":"symbols-BMq14cJj.js","sources":["../../../../frontend/common/user/user-permission-provider.tsx","../../../../frontend/common/components/dropdown.tsx","../../../../frontend/common/components/dropdown-portal.tsx","../../../../frontend/common/components/symbols.tsx"],"sourcesContent":["import { createContext, ReactNode, useContext } from \"react\";\n\ninterface UserPermissions {\n  canConfigure: boolean;\n}\n\nconst UserPermissionsContext = createContext<UserPermissions>({\n  canConfigure: false,\n});\n\nexport const UserPermissionsProvider = ({\n  children,\n}: {\n  children: ReactNode;\n}) => {\n  const element = document.querySelector(\n    \"[data-module='permissions']\",\n  ) as HTMLTemplateElement;\n  const data = element?.dataset ?? {};\n\n  const perms: UserPermissions = {\n    canConfigure: data.permissionConfigure === \"true\",\n  };\n\n  return (\n    <UserPermissionsContext value={perms}>{children}</UserPermissionsContext>\n  );\n};\n\nexport const useUserPermissions = (): UserPermissions =>\n  useContext(UserPermissionsContext);\n","import Tippy, { TippyProps } from \"@tippyjs/react\";\nimport { isValidElement, ReactElement, ReactNode, useState } from \"react\";\n\nimport Tooltip from \"./tooltip.tsx\";\n\n/**\n * A customized (and customizable) implementation of Tippy dropdowns\n */\nexport default function Dropdown({\n  items,\n  tooltip = \"More actions\",\n  disabled,\n  className,\n  icon,\n}: DropdownProps) {\n  const [visible, setVisible] = useState(false);\n  const show = () => setVisible(true);\n  const hide = () => setVisible(false);\n\n  return (\n    <Tooltip content={tooltip}>\n      <Tippy\n        visible={visible}\n        onClickOutside={hide}\n        {...DefaultDropdownProps}\n        content={\n          <div className=\"jenkins-dropdown\">\n            {items.map((item, index) => {\n              if (item === \"separator\") {\n                return (\n                  <div\n                    key={`separator-${index}`}\n                    className=\"jenkins-dropdown__separator\"\n                  />\n                );\n              }\n\n              if (isValidElement(item)) {\n                return (\n                  <div key={index} className=\"jenkins-dropdown__custom-item\">\n                    {item}\n                  </div>\n                );\n              }\n\n              const dropdownItem = item as DropdownItem;\n              return (\n                <a\n                  key={index}\n                  className=\"jenkins-dropdown__item\"\n                  href={dropdownItem.href}\n                  target={dropdownItem.target}\n                  download={dropdownItem.download}\n                >\n                  <div className=\"jenkins-dropdown__item__icon\">\n                    {dropdownItem.icon}\n                  </div>\n                  {dropdownItem.text}\n                </a>\n              );\n            })}\n          </div>\n        }\n      >\n        <button\n          className={\"jenkins-button \" + className}\n          type=\"button\"\n          disabled={disabled}\n          onClick={visible ? hide : show}\n        >\n          <span className={\"jenkins-visually-hidden\"}>{tooltip}</span>\n          {icon || (\n            <div className=\"jenkins-overflow-button__ellipsis\">\n              <span />\n              <span />\n              <span />\n            </div>\n          )}\n        </button>\n      </Tippy>\n    </Tooltip>\n  );\n}\n\nexport const DefaultDropdownProps: TippyProps = {\n  theme: \"dropdown\",\n  duration: 250,\n  touch: true,\n  animation: \"dropdown\",\n  interactive: true,\n  offset: [0, 0],\n  placement: \"bottom-start\",\n  arrow: false,\n};\n\ninterface DropdownProps {\n  items: (DropdownItem | ReactElement | \"separator\")[];\n  tooltip?: string;\n  disabled?: boolean;\n  className?: string;\n  icon?: ReactNode;\n}\n\ninterface DropdownItem {\n  text: string;\n  href?: string;\n  icon: ReactNode;\n  target?: string;\n  download?: string;\n}\n","import { ReactNode } from \"react\";\nimport { createPortal } from \"react-dom\";\n\ninterface DropdownPortalProps {\n  children: ReactNode;\n  container: HTMLElement | null;\n}\n\nexport default function DropdownPortal({\n  children,\n  container,\n}: DropdownPortalProps) {\n  if (!container) {\n    console.error(\"DropdownPortal: Target container not found!\");\n    return null;\n  }\n\n  return createPortal(children, container);\n}\n","export const DOCUMENT = (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n    <path\n      d=\"M416 221.25V416a48 48 0 01-48 48H144a48 48 0 01-48-48V96a48 48 0 0148-48h98.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62z\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"32\"\n    />\n    <path\n      d=\"M256 56v120a32 32 0 0032 32h120M176 288h160M176 368h160\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"32\"\n    />\n  </svg>\n);\n\nexport const CONSOLE = (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n    <rect\n      x=\"32\"\n      y=\"48\"\n      width=\"448\"\n      height=\"416\"\n      rx=\"48\"\n      ry=\"48\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"32\"\n    />\n    <path\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"32\"\n      d=\"M96 112l80 64-80 64M192 240h64\"\n    />\n  </svg>\n);\n\nexport const SETTINGS = (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" aria-hidden>\n    <path\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"32\"\n      d=\"M262.29 192.31a64 64 0 1057.4 57.4 64.13 64.13 0 00-57.4-57.4zM416.39 256a154.34 154.34 0 01-1.53 20.79l45.21 35.46a10.81 10.81 0 012.45 13.75l-42.77 74a10.81 10.81 0 01-13.14 4.59l-44.9-18.08a16.11 16.11 0 00-15.17 1.75A164.48 164.48 0 01325 400.8a15.94 15.94 0 00-8.82 12.14l-6.73 47.89a11.08 11.08 0 01-10.68 9.17h-85.54a11.11 11.11 0 01-10.69-8.87l-6.72-47.82a16.07 16.07 0 00-9-12.22 155.3 155.3 0 01-21.46-12.57 16 16 0 00-15.11-1.71l-44.89 18.07a10.81 10.81 0 01-13.14-4.58l-42.77-74a10.8 10.8 0 012.45-13.75l38.21-30a16.05 16.05 0 006-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 00-6.07-13.94l-38.19-30A10.81 10.81 0 0149.48 186l42.77-74a10.81 10.81 0 0113.14-4.59l44.9 18.08a16.11 16.11 0 0015.17-1.75A164.48 164.48 0 01187 111.2a15.94 15.94 0 008.82-12.14l6.73-47.89A11.08 11.08 0 01213.23 42h85.54a11.11 11.11 0 0110.69 8.87l6.72 47.82a16.07 16.07 0 009 12.22 155.3 155.3 0 0121.46 12.57 16 16 0 0015.11 1.71l44.89-18.07a10.81 10.81 0 0113.14 4.58l42.77 74a10.8 10.8 0 01-2.45 13.75l-38.21 30a16.05 16.05 0 00-6.05 14.08c.33 4.14.55 8.3.55 12.47z\"\n    />\n  </svg>\n);\n"],"names":["UserPermissionsContext","createContext","UserPermissionsProvider","children","perms","jsx","useUserPermissions","useContext","Dropdown","items","tooltip","disabled","className","icon","visible","setVisible","useState","show","hide","Tooltip","Tippy","DefaultDropdownProps","item","index","isValidElement","dropdownItem","jsxs","DropdownPortal","container","createPortal","DOCUMENT","CONSOLE","SETTINGS"],"mappings":"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"}